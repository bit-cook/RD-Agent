# AutoRL-Bench

> è¯„æµ‹ Agent è‡ªåŠ¨è¿›è¡Œ RL Post-training çš„èƒ½åŠ›


---

## 1. é¡¹ç›®å®šä½

**æˆ‘ä»¬è¯„æµ‹çš„æ˜¯ Agentï¼Œä¸æ˜¯æ¨¡å‹ã€‚**

- ä¼ ç»Ÿ Benchmarkï¼šè¯„æµ‹æ¨¡å‹èƒ½åŠ›
- AutoRL-Benchï¼šè¯„æµ‹ "è®©æ¨¡å‹å˜å¥½çš„ Agent" çš„èƒ½åŠ›

---

## 2. é¡¹ç›®ç»“æ„

```
AutoRL-Bench/
â”‚
â”œâ”€â”€ autorl_bench/           # Benchmark æ ¸å¿ƒ
â”‚   â”œâ”€â”€ server.py           # API æœåŠ¡
â”‚   â”œâ”€â”€ scenarios/          # åœºæ™¯å®šä¹‰ (4ä¸ªå­—æ®µ: model_path, data_path, baseline, metric)
â”‚   â””â”€â”€ evaluator.py        # è¯„æµ‹å™¨ (å°è£… Inspect)
â”‚
â”‚
â”œâ”€â”€ env/                    # æ‰§è¡Œç¯å¢ƒ (å¯ Docker éš”ç¦»)
â”‚   â”œâ”€â”€ entry.py            # ç»Ÿä¸€å…¥å£
â”‚   â”œâ”€â”€ training/
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â””â”€â”€ eval/
â”‚       â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ libs(in docker)/                   # RL è®­ç»ƒæ¡†æ¶ (ä¸ä¸Šä¼  git)
â”‚   â”œâ”€â”€ verl/               # git clone é¢„è£…
â”‚   â”œâ”€â”€ trl/
â”‚   â””â”€â”€ ...                 # Agent å¯ç”¨ï¼Œä¹Ÿå¯è‡ªå·±æ‹‰ (ä¸å»ºè®®)
â”‚
â”œâ”€â”€ results/                # Benchmark è¾“å‡º (å›ºå®šä½ç½®)
â”‚   â””â”€â”€ {scenario}_{timestamp}/
â”‚       â””â”€â”€ feedback.json   # {baseline, score}
â”‚
â”œâ”€â”€ log/                    # (ours) æœåŠ¡æ—¥å¿—
â”œâ”€â”€ test/                   # (ours) æµ‹è¯•è„šæœ¬
â””â”€â”€ configs/                # é…ç½®æ–‡ä»¶

------- Not part of the repo
â”œâ”€â”€ assets/                 # èµ„æº (ä¸ä¸Šä¼  git)
â”‚   â”œâ”€â”€ data/               # æ•°æ®é›†
â”‚   â””â”€â”€ models/             # åŸºç¡€æ¨¡å‹
â”‚
â”œâ”€â”€ workspace/              # å·¥ä½œåŒº (ä¸ä¸Šä¼  git)
â”‚   â””â”€â”€ {scenario}_{timestamp}/
â”‚       â”œâ”€â”€ code/           # ä¸é™åˆ¶ (config.yaml + è°ƒç”¨ libs/)
â”‚       â””â”€â”€ output/model/   # å¿…é¡»æœ‰ï¼Œè¯„æµ‹ç”¨
â”œ   â”€â”€ agents/                 # Agent å®ç° (ours + others)
â”‚      â”œâ”€â”€ rdagent/            # (ours) æ¨¡ä»¿ RD-Agent
â”‚      â”‚   â””â”€â”€ ...
â”‚      â””â”€â”€ xxx_agent/          # (others) å…¶ä»–äººçš„ Agent
â”‚          â””â”€â”€ ...
```

---

## 3. ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    agents/                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚  rdagent    â”‚  â”‚ xxx_agent   â”‚  ...                          â”‚
â”‚  â”‚   (ours)    â”‚  â”‚  (others)   â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ å†™å…¥
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  workspace/{scenario}_{timestamp}/                               â”‚
â”‚  â”œâ”€â”€ code/           # ä¸é™åˆ¶                                    â”‚
â”‚  â””â”€â”€ output/model/   # å¿…é¡»æœ‰                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ è¯»å– & æ‰§è¡Œ
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    autorl_bench/                                 â”‚
â”‚  1. æ‰§è¡Œè®­ç»ƒä»£ç                                                   â”‚
â”‚  2. è¯„æµ‹ output/model/                                           â”‚
â”‚  3. è¾“å‡º feedback                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ å†™å…¥
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  results/{scenario}_{timestamp}/feedback.json                    â”‚
â”‚  { "baseline": 62.47, "score": 75.2 }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ è¯»å–
                   â–¼
              Agent è·å–åé¦ˆ
```

**æ ¸å¿ƒæµç¨‹**:
```
Agent å†™ workspace/  â†’  Benchmark æ‰§è¡Œè¯„æµ‹  â†’  è¾“å‡º results/  â†’  Agent è¯»å–
```

---

## 4. æ¥å£è®¾è®¡

### è¾“å…¥: workspace/

```
workspace/{scenario}_{timestamp}/
â”œâ”€â”€ code/               # ä¸é™åˆ¶ï¼ŒAgent éšä¾¿å†™
â””â”€â”€ output/model/       # å¿…é¡»æœ‰ï¼ŒBenchmark è¯„æµ‹è¿™é‡Œ
```

### è¾“å‡º: results/

```
results/{scenario}_{timestamp}/
â””â”€â”€ feedback.json
```

```json
{ "baseline": 62.47, "score": 75.2 }
```

---

## 5. API

### GET /scenarios/{id}

è¿”å› 4 ä¸ªå­—æ®µï¼š

```json
{
  "base_model_path": "assets/models/Qwen2.5-3B-Instruct",
  "train_data_path": "assets/data/gsm8k/train.jsonl",
  "baseline_score": 62.47,
  "metric": "accuracy"
}
```

| å­—æ®µ | è¯´æ˜ |
|------|------|
| base_model_path | åŸºç¡€æ¨¡å‹ä½ç½® |
| train_data_path | è®­ç»ƒæ•°æ®ä½ç½® |
| baseline_score | Baseline åˆ†æ•° |
| metric | è¯„æµ‹æŒ‡æ ‡ (accuracy / pass@1) |

### POST /evaluate

```json
// Request
{ "model_path": "workspace/xxx/output/model" }

// Response (è°ƒç”¨ Inspect è¯„æµ‹)
{ "baseline": 62.47, "score": 75.2 }
```

---

## 6. agents/ (ours)

| Agent | è¯´æ˜ |
|-------|------|
| rdagent | (ours) æ¨¡ä»¿ RD-Agent |
| xxx_agent | (others) å…¶ä»–äººçš„ Agent |

---

## 7. å½“å‰çŠ¶æ€

| é¡¹ç›® | çŠ¶æ€ |
|------|------|
| GSM8K Baseline | 62.47% |
| rdagent | ğŸš§ å¼€å‘ä¸­ |

---

## é™„å½•: Baseline

```
æ¨¡å‹: Qwen2.5-3B-Instruct
æ•°æ®: GSM8K test (1319 æ¡)
å‡†ç¡®ç‡: 62.47% (824/1319)
```
